{"version":3,"sources":["components/Content/People/people.module.css","components/common/pagginator/pagginator.module.css","components/Content/People/user.jsx","components/common/pagginator/pagginator.jsx","components/Content/People/people.jsx","Redux/selectors/people-selectors.js","components/Content/People/people-container.jsx"],"names":["module","exports","User","user","isFollowingProgress","following","unFollowing","className","style","item","to","id","info","avatar","src","userAvatar","alt","text","name","phrase","loca","contry","city","action","followed","disabled","some","onClick","Pagginator","totalUsersCount","pageSize","currentPage","setCurrentPage","portionPagesSize","useState","currentPortion","setCurrentPortion","pageCount","Math","ceil","pages","i","push","startPortionNumber","endPortionNumber","useEffect","paggination","paggBtn","list","filter","map","selectedPage","People","props","currentPeople","showMore","getPeople","state","PeoplePage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getIsFollowingProgress","PeopleContainer","setPage","getUsers","toggleFollow","this","React","Component","connect"],"mappings":"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","file":"static/js/3.59581799.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"people_list__16ecl\",\"item\":\"people_item__1Sdsa\",\"info\":\"people_info__3lW-j\",\"avatar\":\"people_avatar__AN3IZ\",\"text\":\"people_text__3PpJ5\",\"name\":\"people_name__2irbi\",\"phrase\":\"people_phrase__3koJC\",\"action\":\"people_action__36wx5\",\"showMore\":\"people_showMore__2hR83\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paggination\":\"pagginator_paggination__adoa6\",\"list\":\"pagginator_list__3t3Vd\",\"selectedPage\":\"pagginator_selectedPage__1Q0iv\",\"paggBtn\":\"pagginator_paggBtn__3H8IN\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './people.module.css'\r\nimport userAvatar from \"../../../assets/img/user.png\"\r\n\r\nconst User = ({ user, isFollowingProgress, following, unFollowing }) => {\r\n    // console.log(\"REFACTOR USER\");\r\n    return (\r\n        <li key={user.id} className={style.item}>\r\n            <NavLink to={\"/profile/\" + user.id}>\r\n                <div className={style.info}>\r\n                    <div className={style.avatar}>\r\n                        <img src={user.avatar != null ? user.avatar : userAvatar} alt=\"avatar\" className=\"img\" />\r\n                    </div>\r\n                    <div className={style.text}>\r\n                        <p className={style.name}>{user.name}</p>\r\n                        <p className={style.phrase}>{user.phrase}</p>\r\n                    </div>\r\n                </div>\r\n            </NavLink>\r\n            <div className={style.loca}>\r\n                <p className={style.contry}>{user.contry}</p>\r\n                <p className={style.city}>{user.city}</p>\r\n            </div>\r\n            <div className={style.action}>\r\n                {user.followed\r\n                    ? <button\r\n                        disabled={isFollowingProgress.some(id => id === user.id)}\r\n                        onClick={() => { unFollowing(user.id) }}>Unfollow</button>\r\n                    : <button\r\n                        disabled={isFollowingProgress.some(id => id === user.id)}\r\n                        onClick={() => { following(user.id) }}>Follow</button>\r\n                }\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default User","import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport style from \"./pagginator.module.css\"\r\n\r\nconst Pagginator = ({ totalUsersCount, pageSize, currentPage, setCurrentPage, portionPagesSize = 10 }) => {\r\n    let [currentPortion, setCurrentPortion] = useState(1)\r\n    let pageCount = Math.ceil(totalUsersCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let startPortionNumber = (currentPortion - 1) * portionPagesSize + 1\r\n    let endPortionNumber = currentPortion * portionPagesSize\r\n\r\n    useEffect(() => setCurrentPortion(Math.ceil(currentPage / portionPagesSize)), [currentPage, portionPagesSize]);\r\n\r\n    return (\r\n        <div className={style.paggination}>\r\n\r\n            {currentPortion > 1 &&\r\n                <button\r\n                    className={style.paggBtn}\r\n                    onClick={() => setCurrentPortion(currentPortion - 1)}\r\n                >Prev</button>\r\n            }\r\n\r\n            <div className={style.list}>\r\n                {pages.filter(item => item >= startPortionNumber && item <= endPortionNumber)\r\n                    .map(item => {\r\n                        return (\r\n                            <span\r\n                                key={item}\r\n                                className={currentPage === item ? style.selectedPage : null}\r\n                                onClick={() => setCurrentPage(item)}\r\n                            >{item}</span>\r\n                        )\r\n                    })}\r\n            </div>\r\n\r\n            {pageCount > currentPortion &&\r\n                <button\r\n                    className={style.paggBtn}\r\n                    onClick={() => setCurrentPortion(currentPortion + 1)}\r\n                >Next</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagginator","import React from \"react\";\r\nimport style from './people.module.css'\r\nimport User from \"./user\";\r\nimport Pagginator from \"../../common/pagginator/pagginator\";\r\n\r\nlet People = (props) => {\r\n    // let pageCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    // let pages = []\r\n    // for (let i = 1; i <= pageCount; i++) {\r\n    //     pages.push(i)\r\n    // }\r\n\r\n    return (\r\n        <div className=\"people\">\r\n\r\n            <Pagginator\r\n                totalUsersCount={props.totalUsersCount}\r\n                pageSize={props.pageSize}\r\n                currentPage={props.currentPage}\r\n                setCurrentPage={props.setCurrentPage}\r\n            />\r\n\r\n            {/* <div className={style.paggination}>\r\n                {pages.map(item => {\r\n                    return (\r\n                        <span\r\n                            key={item}\r\n                            className={props.currentPage === item ? style.selectedPage : null}\r\n                            onClick={() => props.setCurrentPage(item)}\r\n                        >{item}</span>\r\n                    )\r\n                })}\r\n            </div> */}\r\n            <ul className={style.list}>\r\n                {props.currentPeople.map((item) =>\r\n                    <User user={item} isFollowingProgress={props.isFollowingProgress}\r\n                        following={props.following} unFollowing={props.unFollowing} key={item.id} />\r\n                )}\r\n            </ul>\r\n            <button className={style.showMore}>Show More</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default People\r\n","export const getPeople = (state) => {\r\n  return state.PeoplePage.currentPeople;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.PeoplePage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.PeoplePage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.PeoplePage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.PeoplePage.isFetching;\r\n};\r\n\r\nexport const getIsFollowingProgress = (state) => {\r\n  return state.PeoplePage.isFollowingProgress;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUsers, setPage, following, unFollowing, } from \"../../../Redux/people-reducer\";\r\nimport People from \"./people\";\r\nimport Preloader from \"../../common/preloader/preloader\";\r\nimport { getCurrentPage, getIsFetching, getIsFollowingProgress, getPageSize, getPeople, getTotalUsersCount } from \"../../../Redux/selectors/people-selectors\";\r\n\r\nclass PeopleContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    setCurrentPage = (currentPage) => {\r\n        this.props.setPage(currentPage)\r\n        this.props.getUsers(currentPage, this.props.pageSize)\r\n    }\r\n\r\n    toggleFollow = (id) => {\r\n        this.props.toggleFollow(id)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching\r\n                    ? <Preloader />\r\n                    : <People\r\n                        totalUsersCount={this.props.totalUsersCount}\r\n                        pageSize={this.props.pageSize}\r\n                        currentPage={this.props.currentPage}\r\n                        currentPeople={this.props.currentPeople}\r\n                        setCurrentPage={this.setCurrentPage}\r\n                        isFollowingProgress={this.props.isFollowingProgress}\r\n                        following={this.props.following}\r\n                        unFollowing={this.props.unFollowing}\r\n                    />}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        currentPeople: getPeople(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowingProgress: getIsFollowingProgress(state)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { getUsers, setPage, following, unFollowing, })(PeopleContainer)"],"sourceRoot":""}